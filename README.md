```template
tiles.setCurrentTilemap(tiles.createTilemap(hex`400008000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000030000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000030000030000000000000000000000000000000000000000000000000000000000000000000000000300000000000000000000000000000000030000000000000000000000000300000002000000000000000000000000000000000000000000000000000000000000000000000000000003000003000003000200000003000000000000000000000000020000030000000300000000030000000000000000000300000000030000020000030000030000000000000000000002000000000000000000000000000000000200000000000000000200000000000004000001010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101`, img`
................................................................
................................................................
................................................................
................................................................
.............................................2..................
............................2................2..................
...........2................2................2........2.........
2222222222222222222222222222222222222222222222222222222222222222
`, [myTiles.transparency16,sprites.builtin.forestTiles25,sprites.builtin.brick,null,null], TileScale.Sixteen))
    scene.setBackgroundImage(img`
        9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
        9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
        9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
        9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
        9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
        9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
        9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
        9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
        9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
        9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999ffff99999999999999999
        9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999fffffffffffff9999999999ff111ff999999999999999
        9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999fff1111111111111fff9999ffff111111ff9999999999999
        999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999ff111111111111111111fffff11111111111ff99999999999
        99999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999f1111111111111111111111111111111111111ff9999999999
        99999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999f11111111111111111111111111111111111111f9999999999
        99999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999f11111111111111111111111111111111111111f9999999999
        99999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999fff111111111111111111111111111111111111ffff9999999
        99999999999999999999ffffffffffff999999999999999999999999999999999999999999999999999999999999999999999999999999999fffffffffff1111111111111111111111111111f9999999
        9999999999999999fffff11111111111ffffffffff9999999999999999999999999999999999999999999999999999999999999999999999999999999999ff111111111111111111111111111f999999
        99999999999999fff111111111111111111111111ff9999999999999999999999999999999999999999999999999999999999999999999999999999999999fff111111111111111111111111ff999999
        9999999999999ff111111111111111111111111111ff999999999999999999999999999999999999999999999999999999999999999999999999999999999999fffffffffff1111111111111f9999999
        999999999999ff11111111111111111111111111111f9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999ff11111111111ff9999999
        999999999999f111111111111111111111111111111ff9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999fff111111ffff99999999
        99999999999f11111111111111111111111111111111f999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999fffffff999999999999
        99999999999f11111111111111111111111111111111ff999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
        9999999999f1111111111111111111111111111111111f999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
        9999999999f1111111111111111111111111111111111ff99999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
        9999999999f11111111111111111111111188888888888889988888899999888889999998888888889999888888888888899888888999998888889999999999999999999999999999999999999999999
        9999999999f11111111111111111111111188888888888889988888899999888889999988888888889999888888888888899888888999988888889999999999999999999999999999999999999999999
        9999999999f11111111111111111111111188888888888889988888899999888889999888888888889999888888888888899888888999888888889999999999999999999999999999999999999999999
        9999999999f11111111111111111111111188888888888889988888889999888889998888888888889999888888888888899888888988888888999999999999999999999999999999999999999999999
        99999999999f111111111111111111111118888888888888f988888889999888889998888888888889999888888888888899888888988888888999999999999999999999999999999999999999999999
        99999999999f111111111111111111111118888811111111f988888889999888889998888888888889999888889999999999888888888888899999999999999999999999999999999999999999999999
        999999999999ff1111111111111111111118888811111111f988888888999888889998888888999999999888889999999999888888888888999999999999999999999999999999999999999999999999
        9999999999999ff111111111111111111118888811111111f988888888999888889998888899999999999888889999999999888888888899999999999999999999999999999999999999999999999999
        999999999999999ff1111111111111111118888811111111f988888888999888889999888888999999999888889999999999888888888999999999999999999999999999999999999999999999999999
        99999999999999999ffff111111ffffff11888888888811f9988888888899888889999988888888999999888888888899999888888889999999999999999999999999999999999999999999999999999
        99999999999999999999ffffffff99999ff8888888888fff9988888888899888889999998888888899999888888888899999888888889999999999999999999999999999999999999999999999999999
        999999999999999999999999999999999998888888888f999988888888889888889999999998888889999888888888899999888888888999999999999999999999999999999999999999999999999999
        9999999999999999999999999999999999988888888889999988888888889888889999999999888888999888888888899999888888888899999999999999999999999999999999999999999999999999
        9999999999999999999999999999999999988888888889999988888888889888889999999999888888999888888888899999888888888889999999999999999999999999999999999999999999999999
        9999999999999999999999999999999999988888999999999988888988888888889999999999888888999888889999999999888888888888999999999999999999999999999999999999999999999999
        9999999999999999999999999999999999988888999999999988888998888888889999999999888888999888889999999999888888888888899999999999999999999999999999999999999999999999
        9999999999999999999999999999999999988888999999999988888998888888889999999998888888999888889999999999888888988888889999999999999999999999999999999999999999999999
        9999999999999999999999999999999999988888888888889988888999888888889999888888888889999888888888888899888888998888888999999999999999999999999999999999999999999999
        9999999999999999999999999999999999988888888888889988888999888888889999888888888899999888888888888899888888999888888899999999999999999999999999999999999999999999
        9999999999999999999999999999999999988888888888889988888999988888889999888888888999999888888888888899888888999988888889999999999999999999999999999999999999999999
        9999999999999999999999999999999999988888888888889988888999988888889999888888889999999888888888888899888888999998888889999999999999999999999999999999999999999999
        9999999999999999999999999999999999988888888888889988888999998888889999999999999999999888888888888899888888999999888889999999999999999999999999999999999999999999
        9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
        9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
        9999999999999999999999999999999999944444444444444444444444444444449999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
        9999999999999999999999999999999999944444444444444444444444444444449999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
        9999999999999999999999999999999999944444444444444444444444444444449999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
        9999999999999999999999999999999999944444444444444444444444444444449999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
        9999999999999999999999999999999999944444444444444444444444444444449999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
        9999999999999999999999999999999999944444444444444444444444444444449999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
        9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
        9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
        9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
        9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
        9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
        9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
        9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
        9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
        9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
        9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
        9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
        9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
        9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
        9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
        9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
        9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
        9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
        9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
        9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
        9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
        9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
        9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
        9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
        9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
        9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
        9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
        9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
        9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
        9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
        9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
        9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
        9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
        9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
        9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
        9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
        9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
        9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
        9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
        9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
        9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
        9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
        9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
        9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
        9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
        9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
        9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
        9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
        9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
        9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
        9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
        9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
        9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
        9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
        9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
        9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
        9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
        9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
        9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
        9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
        9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
        9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
        9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
        9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
        `)
let hero = sprites.create(img`
    . . . . . . . . . . . . . . . . 
    . . . f f f f f f f f f f . . . 
    . . f e e e e e e e e e e f . . 
    . f e e e e e e e e e e e e f . 
    . f d e e d d d d d d d d d f . 
    . f d e d d f d d d d f d d f . 
    . f e d d d f d d d d f d d f . 
    . . f d d d f d d d d f d d f . 
    . . f d d d d d d d d d d d f . 
    . . f b a c c c c c c c c a f . 
    . . f d d d c c c c c c d d f . 
    . . f d d f f f b b f f f d f . 
    . . f b a a a a a a a a a f . . 
    . . . f b a a f f b a a f . . . 
    . . . . f f f . . f f f . . . . 
    . . . . . . . . . . . . . . . . 
    `, SpriteKind.Player)
    scene.cameraFollowSprite(hero)
game.onUpdate(function () {
    if (hero.isHittingTile(CollisionDirection.Top)) {
        hero.vy = 0
    }
    if (hero.isHittingTile(CollisionDirection.Bottom)) {
        hero.ay = 0
    } else {
        hero.ay = 294
    }
})
sprites.onOverlap(SpriteKind.Player, SpriteKind.Food, function (sprite, otherSprite) {
    otherSprite.destroy(effects.trail, 250)
    otherSprite.y += -3
})
let coords = [
    { x: 3, y: 6 }, 
    { x: 8, y: 6 },
    { x: 11, y: 4 },
    { x: 14, y: 6 },
    { x: 17, y: 6 },
    { x: 20, y: 5 },
    { x: 23, y: 5 },
    { x: 26, y: 5 },
    { x: 28, y: 4 },
    { x: 32, y: 5 },
    { x: 35, y: 3 },
    { x: 38, y: 3 },
    { x: 41, y: 4 },
    { x: 45, y: 2 },
    { x: 48, y: 5 },
    { x: 52, y: 5 },
    { x: 57, y: 5 },
    ]
for (let point of coords) {
    coin = sprites.create(img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . f f f f . . . . . . 
        . . . . f f 5 5 5 5 f f . . . . 
        . . . . f 5 5 5 5 5 5 f . . . . 
        . . . f 5 5 5 4 4 5 5 5 f . . . 
        . . . f 5 5 5 4 4 5 5 5 f . . . 
        . . . f 5 5 5 4 4 5 5 5 f . . . 
        . . . f 5 5 5 4 4 5 5 5 f . . . 
        . . . . f 5 5 5 5 5 5 f . . . . 
        . . . . f f 5 5 5 5 f f . . . . 
        . . . . . . f f f f . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        `, SpriteKind.Food)
    tiles.placeOnTile(coin, tiles.getTileLocation(point.x, point.y))
}
let finish:Sprite = null
finish = sprites.create(img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . f f f f . . . . . . 
        . . . . f f 5 5 5 5 f f . . . . 
        . . . . f 5 5 5 5 5 5 f . . . . 
        . . . f 5 5 5 4 4 5 5 5 f . . . 
        . . . f 5 5 5 4 4 5 5 5 f . . . 
        . . . f 5 5 5 4 4 5 5 5 f . . . 
        . . . f 5 5 5 4 4 5 5 5 f . . . 
        . . . . f 5 5 5 5 5 5 f . . . . 
        . . . . f f 5 5 5 5 f f . . . . 
        . . . . . . f f f f . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        `, SpriteKind.Projectile) 
tiles.placeOnTile(finish, tiles.getTileLocation(61, 6))
sprites.onOverlap(SpriteKind.Player, SpriteKind.Projectile, function (sprite, otherSprite) {
    game.over(true, effects.confetti)
})

```

# Solve the Energy Crisis

Jon needs your help to save the Energy Industry by collecting batteries in his exciting adventure! To help Jon reach all the batteries, you’ll learn how to code his movements so he can walk left, walk right, and jump over obstacles. By adding these abilities, you’ll make sure Jon can explore every part of the game and collect all the batteries he needs. Get ready to use your coding skills and help Jon on his important mission!

## Step 1

First things first, let's make it so we can move right! 
Drag a ``||controller:on [right] button [pressed]||`` block into an empty part of the screen
Then drag a ``||sprites:set [hero]||`` block and place that inside your button press block 
Then set the ``||vx (velocity x)||`` value to 50

```blocks
controller.right.onEvent(ControllerButtonEvent.Pressed, function () {
    hero.vx = 50
})
```

## Step 2

Try the game! What happens? Does it work as we expected?

## Step 3

You might have seen that we never stop moving right unless we hit a wall! Oh no! 

Let's fix that by stopping us from moving right after we let go of the right button.

Drag a ``||controller:on [right] button [released]||`` block into an empty part of the screen
Then drag a ``||sprites:set [hero]||`` block and place that inside your button press block 
Then set the ``||vx (velocity x)||`` value to 0


```blocks
controller.right.onEvent(ControllerButtonEvent.Released, function () {
    hero.vx = 0
})
```

Can you make the same changes so we can move left too?

## Step 4

Great! Now we can move left and right! Let's collect some gems!

## Step 5 

Oh no! We can't reach that gem, in the next step let's learn to jump! 

## Step 6

Let's give Jon the ability to jump!

First drag a ``||controller:on [A] button [pressed]||`` block into an empty part of the screen
Now drag a ``||logic:if [is hero hitting wall bottom]||`` block inside the block you just created
Then place a ``||sprites:set [hero] [vy (velocity y)] to -120||`` block and place that inside that block

## Step 7 

Now can we double jump? 

Yes! But we need to change some of the code we wrote in the last stage... let's delete the ``||controller:on [A] button [pressed]||`` block we just created and start again.

## Step 8

First drag a ``||controller:on [A] button [pressed]||`` block into an empty part of the screen
Now drag a ``||logic:if [is hero hitting wall bottom] then else if [canDoubleJump] ||`` block inside the block you just created
Next drag a ``||sprites:set [hero] [vy (velocity y)] to -120||`` block into the first part of the if block
Then drag a ``||sprites:set [hero] [vy (velocity y)] to -90||`` block into the else part of the block
Finally drag a ``||variables:set [canDoubleJump] to [false]||`` block just below that

What happens if you don't add the last block?






## Attempt Jump
```blocks
controller.A.onEvent(ControllerButtonEvent.Pressed, function () {
    attemptJump()
})


controller.up.onEvent(ControllerButtonEvent.Pressed, function () {
    attemptJump()
})
```

### Jump Function
```blocks
    // else if: either fell off a ledge, or double jumping
    if (hero.isHittingTile(CollisionDirection.Bottom)) {
        hero.vy = -4 * pixelsToMeters
    } else if (canDoubleJump) {
        doubleJumpSpeed = -3 * pixelsToMeters
        // Good double jump
        if (hero.vy >= -40) {
            doubleJumpSpeed = -4.5 * pixelsToMeters
            //hero.startEffect(effects.trail, 500)
            //scene.cameraShake(2, 250)
        }
        hero.vy = doubleJumpSpeed
        canDoubleJump = false
    }
```